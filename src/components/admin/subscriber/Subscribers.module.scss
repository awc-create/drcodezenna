/* ===== Variables ===== */
$bg: #fff;
$ink: #111;
$ink-muted: #555;
$border: #e6e6e6;
$muted-bg: #f7f7f7;
$radius: 12px;
$radius-sm: 8px;
$shadow: 0 8px 28px rgba(0, 0, 0, 0.24);
$bp-mobile: 600px;

/* ===== Page Layout ===== */
.section { margin-bottom: 3rem; }

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem 2rem;

  @media (max-width: $bp-mobile) { padding: 1rem; }

  h2 {
    margin: 0 0 .5rem;
    font-size: clamp(1.25rem, 2.2vw, 1.6rem);
  }
  p {
    margin: 0 0 1rem;
    color: $ink-muted;
    font-size: 0.95rem;
  }
}

/* ===== Toolbar ===== */
.toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  flex-wrap: wrap;
}

.exportButton {
  background: $ink;
  color: #fff;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s ease, transform .02s ease;

  &:hover { background: #333; }
  &:active { transform: translateY(1px); }

  @media (max-width: $bp-mobile) {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    order: 2;
  }

  &:disabled { opacity: 0.6; cursor: not-allowed; }
}

/* ===== Pagination Controls ===== */
.paginationControls {
  margin-left: auto;
  display: grid;
  grid-template-columns: auto auto 1fr auto;
  align-items: center;
  gap: .6rem;
  min-width: 420px;

  @media (max-width: 820px) {
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "rows select"
      "count count"
      "pages pages";
    gap: .5rem .75rem;
    min-width: 0;
    width: 100%;
    order: 1;
  }
}
.rowsLabel { color: $ink-muted; @media (max-width: 820px) { grid-area: rows; } }
.pageSizeSelect {
  appearance: none;
  padding: .5rem .75rem;
  border: 1px solid $border;
  border-radius: 6px;
  background: #fff;
  font: inherit; line-height: 1.2;
  @media (max-width: 820px) { grid-area: select; justify-self: end; }
}
.countLabel { color: $ink-muted; @media (max-width: 820px) { grid-area: count; } }
.pageButtons {
  display: inline-flex; gap: .35rem;
  button {
    border: 1px solid $border; background: #fff; padding: .45rem .6rem;
    border-radius: 6px; cursor: pointer; line-height: 1;
    transition: background .15s ease, transform .02s ease, border-color .15s ease;
    &:hover { background: $muted-bg; }
    &:active { transform: translateY(1px); }
    &:disabled { opacity: .5; cursor: not-allowed; background: #f9f9f9; }
  }
  .pageIndicator { align-self: center; color: $ink-muted; padding: 0 .25rem; }
  @media (max-width: 820px) {
    grid-area: pages; justify-self: stretch; justify-content: space-between;
  }
}

/* ===== Desktop Table Wrapper ===== */
.desktopTable { display: block; @media (max-width: $bp-mobile) { display: none; } }

.tableWrap {
  overflow-x: auto;
  margin-top: 1rem;
  border: 1px solid $border;
  border-radius: $radius-sm;
  background: #fff;

  &::-webkit-scrollbar { height: 8px; }
  &::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
}

/* ===== Table ===== */
.table {
  width: 100%;
  border-collapse: collapse;
  background: $bg;
  min-width: 720px;

  th, td {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid $border;
    text-align: left;
    vertical-align: top;
    white-space: nowrap;
    word-break: keep-all;
  }

  th {
    background-color: $muted-bg;
    color: $ink; font-weight: 600;
    position: sticky; top: 0; z-index: 1;
  }

  .col-location, .col-interests { white-space: normal; }
  .col-actions { white-space: nowrap; width: 1%; }

  tbody tr:hover { background: #fafafa; }
}

/* ===== Action Buttons ===== */
.editButton, .deleteButton {
  font-size: 0.9rem;
  border: none;
  padding: 0.4rem 0.75rem;
  border-radius: 6px;
  cursor: pointer;
  margin-right: 0.4rem;
  line-height: 1;
  transition: transform 0.02s ease, filter 0.2s ease;
  &:active { transform: translateY(1px); }
}
.editButton { background: #007bff; color: #fff; &:hover { filter: brightness(0.95); } }
.deleteButton { background: #ff3b30; color: #fff; &:hover { filter: brightness(0.95); } &:disabled { background:#aaa; cursor:not-allowed; } }

/* ===== Mobile Cards (visible only on phones) ===== */
.mobileCards { display: none; }

@media (max-width: $bp-mobile) {
  .mobileCards {
    display: grid;
    gap: 0.75rem;
    margin-top: 1rem;
  }

  .card {
    background: #fff;
    border: 1px solid $border;
    border-radius: $radius-sm;
    padding: 0.9rem 1rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  }

  .cardHeader {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .5rem;
    margin-bottom: .5rem;

    .email {
      font-weight: 600;
      font-size: 1rem;
      color: $ink;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 70%;
    }

    .actions {
      display: inline-flex;
      gap: .4rem;

      button {
        padding: 0.55rem 0.7rem;
        border-radius: 8px;
        font-size: 1rem;
      }
    }
  }

  .metaGrid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .5rem .8rem;

    .field {
      display: grid;
      gap: .15rem;
    }
    .label {
      font-size: .8rem;
      color: $ink-muted;
    }
    .value {
      font-size: .95rem;
      line-height: 1.2rem;
      color: $ink;
      word-break: break-word;
    }

    /* Make long Interests span full width */
    .fieldInterests {
      grid-column: 1 / -1;
    }
  }

  .subLine {
    margin-top: .5rem;
    font-size: .8rem;
    color: $ink-muted;
  }
}

/* ===== Modal (unchanged) ===== */
.overlay {
  position: fixed; inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1000; display: flex; justify-content: center; align-items: center;
  overflow: auto;
  padding: env(safe-area-inset-top) 1rem env(safe-area-inset-bottom);
  @media (prefers-reduced-motion: no-preference) { animation: fadeInOverlay 120ms ease-out; }
}
.modal {
  background: #fff; padding: 2rem; border-radius: $radius;
  width: 90%; max-width: 600px; max-height: calc(100vh - 4rem);
  overflow: auto; box-shadow: $shadow; text-align: left; outline: none;
  @media (prefers-reduced-motion: no-preference) { animation: popInModal 160ms ease-out; }
  h3 { margin-bottom: 1rem; font-size: 1.35rem; line-height: 1.2; }
  label { display: block; margin-bottom: 1rem;
    input, textarea, select {
      width: 100%; padding: 0.6rem; margin-top: 0.3rem;
      border: 1px solid #ccc; border-radius: 6px; font: inherit;
    }
  }
  @media (max-width: $bp-mobile) { padding: 1rem; border-radius: 10px; }
}
.actions {
  display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1rem;
  button {
    padding: 0.6rem 1.2rem; font-size: 1rem; border: none; border-radius: 8px; cursor: pointer;
    transition: filter 0.2s ease, transform 0.02s ease;
    &:active { transform: translateY(1px); }
  }
  button:first-of-type { background: #2e7d32; color: #fff; &:hover { filter: brightness(0.95); } }
  button:last-of-type { background: #ccc; &:hover { filter: brightness(0.97); } }

  @media (max-width: $bp-mobile) {
    flex-direction: column; align-items: stretch;
    button { width: 100%; padding: 0.75rem 1rem; font-size: 1.05rem; }
  }
}

/* ===== Helpers & Animations ===== */
.srOnly {
  position: absolute !important;
  width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}
@keyframes fadeInOverlay { from { opacity: 0; } to { opacity: 1; } }
@keyframes popInModal { from { opacity: 0; transform: translateY(6px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
